#!/bin/bash

# Fonction qui prend une entrée
function check_index() {
  # Demande à l'utilisateur un nombre
  echo "Entrez un index:"
  read input_var
  
  # Vérifier si l'entrée est un entier
  if ! [[ "$input_var" =~ ^[0-9]+$ ]]; then
    echo "Erreur: l'index doit être un nombre entier."
    return 1
  fi

  # Déclarer un tableau d'exemple et ajouter des éléments
  declare -a workspace_array=("dev" "prod" "staging")
  
  # Ajouter un nouvel élément à l'index spécifié
  echo "Entrez la valeur à insérer dans le tableau:"
  read v
  workspace_array[$input_var]=$v

  # Vérifier si l'index est valide
  if [ "$input_var" -lt "${#workspace_array[@]}" ]; then
    echo "L'élément à l'index $input_var est maintenant: ${workspace_array[$input_var]}"
  else
    echo "L'index est hors limites."
  fi
}

# Appeler la fonction
check_index
